<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ“š Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</title>

  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;700&family=Noto+Color+Emoji&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Tajawal', 'Noto Color Emoji', sans-serif;
      overflow-x: hidden;
    }

    /* Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ø§ Ø§Ù„Ù†Ø¸Ø§Ù…ÙŠÙ† Ø£ÙˆÙ„Ø§Ù‹ */
    #pcVersion, #mobileVersion { display: none; }

    /* âœ… Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± */
    #pcVersion {
      text-align: center;
      color: #fff;
      padding: 100px 20px 40px;
      background: linear-gradient(135deg, #1e2a78, #4a47a3, #c4c1e0);
      background-size: 400% 400%;
      animation: gradientShift 12s ease-in-out infinite alternate;
      min-height: 100vh;
      transition: background 0.5s, color 0.5s;
    }

    @keyframes gradientShift {
      0% { background-position: left top; }
      100% { background-position: right bottom; }
    }

    #pcVersion.light {
      background: linear-gradient(135deg, #ffeedb, #f8cdda, #c4c1e0);
      color: #333;
    }

    .top-bar {
      position: fixed;
      top: 0; left: 0; width: 100%;
      padding: 10px 20px;
      display: flex; justify-content: space-between; align-items: center;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(8px);
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      border-bottom-left-radius: 15px; border-bottom-right-radius: 15px;
      z-index: 1000;
      color: #f8f9fa;
      font-weight: 600;
    }

    .top-bar #weekNumber {
      position: absolute; left: 50%; transform: translateX(-50%);
    }

    #pcVersion button {
      background: none; border: none; color: #fff; font-size: 1.4em; cursor: pointer;
      transition: transform 0.3s ease;
    }
    #pcVersion button:hover { transform: scale(1.2); }

    h1 { font-size: 2.6em; margin: 25px 0; font-weight: 700; }

    .countdown {
      display: inline-block;
      margin: 20px;
      padding: 30px 25px;
      border-radius: 20px;
      background: rgba(255,255,255,0.1);
      width: 280px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.25);
      transition: transform 0.4s ease, background 0.4s ease;
      backdrop-filter: blur(8px);
    }

    .countdown:hover { transform: translateY(-8px) scale(1.05); background: rgba(255,255,255,0.25); }
    .countdown h2 { font-size: 1.5em; margin-bottom: 15px; font-weight: 600; color: #ffe66d; }
    .time { font-size: 1.8em; font-weight: bold; letter-spacing: 1px; }

    .progress-container { width: 100%; height: 10px; background: rgba(255,255,255,0.2); border-radius: 5px; margin-top: 10px; }
    .progress-bar { height: 100%; background: #ffe66d; width: 0%; border-radius: 5px; transition: width 0.5s ease; }

    .tip {
      margin-top: 40px;
      font-size: 1.3em;
      color: #ffd966;
      font-weight: 600;
      transition: opacity 0.6s ease;
    }

    footer { margin-top: 60px; font-size: 1em; color: rgba(255,255,255,0.8); }
    footer span { color: #ffe66d; font-weight: bold; }

    #pcVersion.light .countdown { background: rgba(255,255,255,0.6); color: #222; }
    #pcVersion.light .progress-bar { background: #1e2a78; }
    #pcVersion.light .tip { color: #1e2a78; }

    @media (max-width: 480px) {
      .countdown { width: 90%; padding: 20px 15px; }
      h1 { font-size: 2em; }
    }

    /* âœ… Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ */
    #mobileVersion {
      text-align: center;
      color: #222;
      background: linear-gradient(135deg, #e3e7ff, #f8f9ff);
      padding: 90px 20px 50px;
      min-height: 100vh;
      overflow-x: hidden;
    }

    #mobileVersion h1 { font-size: 2em; margin-bottom: 20px; color: #2b2b80; }

    #mobileVersion .countdown {
      background: #fff;
      margin: 10px auto;
      border-radius: 12px;
      padding: 20px;
      width: 90%;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      color: #333;
    }

    #mobileVersion .countdown h2 { font-size: 1.2em; color: #1e2a78; margin-bottom: 10px; }
    #mobileVersion .time { font-size: 1.2em; font-weight: bold; color: #000; }

    #mobileVersion .progress-container { height: 8px; background: #eee; border-radius: 5px; margin-top: 8px; }
    #mobileVersion .progress-bar { height: 100%; background: #4a47a3; width: 0%; border-radius: 5px; }

    #mobileVersion input[type="text"], #mobileVersion input[type="range"] {
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 8px;
      padding: 10px;
      text-align: center;
      font-size: 1em;
      outline: none;
    }

    #mobileVersion .tip {
      margin-top: 25px;
      color: #4a47a3;
      font-weight: 600;
      font-size: 1.1em;
    }

    #mobileVersion footer {
      margin-top: 40px;
      color: #555;
      font-size: 0.9em;
    }
  </style>
</head>
<body>

  <!-- ğŸ–¥ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± -->
  <div id="pcVersion">
    <div class="top-bar">
      <div id="pcDate">Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®...</div>
      <div id="pcWeek">Ø¬Ø§Ø±Ù Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹...</div>
      <button id="themeTogglePC" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹">ğŸŒ™</button>
    </div>

    <h1>ğŸ“š Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</h1>

    <div class="countdown">
      <h2>ğŸ“ Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ù…Ù†ØªØµÙ Ø§Ù„ÙØµÙ„</h2>
      <div id="midtermPC" class="time">Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</div>
      <div class="progress-container"><div class="progress-bar" id="midtermProgressPC"></div></div>
    </div>

    <div class="countdown">
      <h2>ğŸ“ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
      <div id="finalsPC" class="time">Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</div>
      <div class="progress-container"><div class="progress-bar" id="finalsProgressPC"></div></div>
    </div>

    <div class="countdown">
      <h2>ğŸ¯ Ù‡Ø¯Ù Ø§Ù„ÙŠÙˆÙ…</h2>
      <input type="text" id="goalPC" placeholder="Ø§ÙƒØªØ¨ Ù‡Ø¯ÙÙƒ Ù„Ù„ÙŠÙˆÙ…...">
      <p id="goalTextPC"></p>
    </div>

    <div class="countdown">
      <h2>ğŸ“Š Ù†Ø³Ø¨Ø© Ø¥Ù†Ø¬Ø§Ø² Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©</h2>
      <input type="range" id="progressPC" min="0" max="100" step="1">
      <p id="progressTextPC">0%</p>
    </div>

    <div class="countdown">
      <h2>ğŸ† Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ­ÙÙŠØ²</h2>
      <p id="pointsPC">Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</p>
    </div>

    <div class="tip" id="tipPC">ğŸ“– Ø±Ø§Ø¬Ø¹ Ù…Ù„Ø®ØµØ§Øª Ø§Ù„Ø¯Ø±ÙˆØ³ ÙƒÙ„ ÙŠÙˆÙ…</div>

    <footer>âœ¨ Ø¨Ø§Ù„ØªÙˆÙÙŠÙ‚ ÙÙŠ Ø§Ù…ØªØ­Ø§Ù†Ø§ØªÙƒ <span>ğŸ’ªğŸ“–</span></footer>
  </div>

  <!-- ğŸ“± Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ -->
  <div id="mobileVersion">
    <h1>ğŸ“š Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª</h1>

    <div class="countdown">
      <h2>ğŸ“ Ù…Ù†ØªØµÙ Ø§Ù„ÙØµÙ„</h2>
      <div id="midtermM" class="time">Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</div>
      <div class="progress-container"><div class="progress-bar" id="midtermProgressM"></div></div>
    </div>

    <div class="countdown">
      <h2>ğŸ“ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h2>
      <div id="finalsM" class="time">Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</div>
      <div class="progress-container"><div class="progress-bar" id="finalsProgressM"></div></div>
    </div>

    <div class="countdown">
      <h2>ğŸ¯ Ù‡Ø¯Ù Ø§Ù„ÙŠÙˆÙ…</h2>
      <input type="text" id="goalM" placeholder="Ø§ÙƒØªØ¨ Ù‡Ø¯ÙÙƒ Ù„Ù„ÙŠÙˆÙ…...">
      <p id="goalTextM"></p>
    </div>

    <div class="countdown">
      <h2>ğŸ“Š Ù†Ø³Ø¨Ø© Ø¥Ù†Ø¬Ø§Ø²Ùƒ</h2>
      <input type="range" id="progressM" min="0" max="100" step="1">
      <p id="progressTextM">0%</p>
    </div>

    <div class="countdown">
      <h2>ğŸ† Ù†Ù‚Ø§Ø· Ø§Ù„ØªØ­ÙÙŠØ²</h2>
      <p id="pointsM">Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</p>
    </div>

    <div class="tip" id="tipM">ğŸ“– Ø±Ø§Ø¬Ø¹ Ø¯Ø±ÙˆØ³Ùƒ ÙŠÙˆÙ…ÙŠÙ‹Ø§</div>

    <footer>âœ¨ Ø¨Ø§Ù„ØªÙˆÙÙŠÙ‚ ÙÙŠ Ø§Ù…ØªØ­Ø§Ù†Ø§ØªÙƒ ğŸ’ª</footer>
  </div>

  <script>
    // âœ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Ø¸Ø§Ù…
    const isMobile = /Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
    const pc = document.getElementById("pcVersion");
    const mobile = document.getElementById("mobileVersion");
    if (isMobile) {
      mobile.style.display = "block";
      runMobileSystem();
    } else {
      pc.style.display = "block";
      runPCSystem();
    }

    // ==================== ğŸ–¥ï¸ Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ====================
    function runPCSystem() {
      const semesterStart = new Date(Date.UTC(2025, 8, 7));
      const midterm = new Date(Date.UTC(2025, 11, 4, 9));
      const finals = new Date(Date.UTC(2026, 0, 4, 9));

      const toRiyadh = d => new Date(d.getTime() + (3 * 60 - d.getTimezoneOffset()) * 60000);
      const pcDate = document.getElementById("pcDate");
      const pcWeek = document.getElementById("pcWeek");
      const tips = ["ğŸ“– Ø±Ø§Ø¬Ø¹ Ù…Ù„Ø®ØµØ§ØªÙƒ", "ğŸ’§ Ø§Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡", "ğŸ•’ Ù†Ø¸Ù… ÙˆÙ‚ØªÙƒ", "ğŸ’ª Ø«Ù‚ Ø¨Ù†ÙØ³Ùƒ", "ğŸ“š Ù„Ø§ ØªØ¤Ø¬Ù„ Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©"];
      let t = 0;

      const update = () => {
        const now = toRiyadh(new Date());
        pcDate.textContent = now.toLocaleDateString('ar-EG', {weekday:'long', year:'numeric', month:'long', day:'numeric'});
        const diff = now - semesterStart;
        let week = Math.ceil(diff / (7 * 24 * 60 * 60 * 1000)) + 2;
        pcWeek.textContent = week < 1 ? "â³ Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„ÙØµÙ„" : week > 16 ? "ğŸ‰ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙØµÙ„" : `ğŸ“… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${week}`;
        const upd = (id, d, msg, s, e, bar) => {
          const el = document.getElementById(id), pb = document.getElementById(bar);
          if (d < 0) { el.textContent = msg; pb.style.width = "100%"; return; }
          const days = Math.floor(d / 86400000);
          const h = Math.floor((d % 86400000)/3600000);
          const m = Math.floor((d % 3600000)/60000);
          el.textContent = `${days}ÙŠ ${h}Ø³ ${m}Ø¯`;
          const pr = Math.min(Math.max((now - s) / (e - s) * 100, 0), 100);
          pb.style.width = pr + "%";
        };
        upd("midtermPC", midterm - now, "ğŸ¯ Ø¨Ø¯Ø£Øª!", semesterStart, midterm, "midtermProgressPC");
        upd("finalsPC", finals - now, "ğŸ Ø¨Ø¯Ø£Øª!", midterm, finals, "finalsProgressPC");
      };
      setInterval(update, 1000); update();

      const goal = document.getElementById("goalPC"), goalText = document.getElementById("goalTextPC");
      goal.value = localStorage.getItem("goalPC") || "";
      goalText.textContent = goal.value ? `ğŸ¯ Ù‡Ø¯ÙÙƒ: ${goal.value}` : "âœï¸ Ø§ÙƒØªØ¨ Ù‡Ø¯ÙÙƒ!";
      goal.addEventListener("change", () => { localStorage.setItem("goalPC", goal.value); goalText.textContent = `ğŸ¯ Ù‡Ø¯ÙÙƒ: ${goal.value}`; });

      const prog = document.getElementById("progressPC"), progT = document.getElementById("progressTextPC");
      prog.value = localStorage.getItem("progPC") || 0;
      progT.textContent = `${prog.value}%`;
      prog.addEventListener("input", () => { localStorage.setItem("progPC", prog.value); progT.textContent = `${prog.value}%`; });

      const pts = document.getElementById("pointsPC");
      let p = parseInt(localStorage.getItem("ptsPC") || "0");
      const today = new Date().toDateString();
      if (localStorage.getItem("lastPC") !== today) {
        p++; localStorage.setItem("ptsPC", p); localStorage.setItem("lastPC", today);
      }
      pts.textContent = `â­ Ø²ÙŠØ§Ø±Ø§ØªÙƒ: ${p}`;

      const tip = document.getElementById("tipPC");
      setInterval(() => { t = (t + 1) % tips.length; tip.textContent = tips[t]; }, 6000);

      const toggle = document.getElementById("themeTogglePC");
      toggle.addEventListener("click", () => {
        document.getElementById("pcVersion").classList.toggle("light");
        const mode = document.getElementById("pcVersion").classList.contains("light") ? "light" : "dark";
        toggle.textContent = mode === "light" ? "â˜€ï¸" : "ğŸŒ™";
        localStorage.setItem("themePC", mode);
      });
      if (localStorage.getItem("themePC") === "light") {
        document.getElementById("pcVersion").classList.add("light");
        toggle.textContent = "â˜€ï¸";
      }
    }

    // ==================== ğŸ“± Ù†Ø¸Ø§Ù… Ø§Ù„Ø¬ÙˆØ§Ù„ ====================
    function runMobileSystem() {
      const semesterStart = new Date(Date.UTC(2025, 8, 7));
      const midterm = new Date(Date.UTC(2025, 11, 4, 9));
      const finals = new Date(Date.UTC(2026, 0, 4, 9));
      const tips = ["ğŸ“– Ø°Ø§ÙƒØ± ÙƒÙ„ ÙŠÙˆÙ…", "ğŸ’§ Ø§Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡", "ğŸ’¤ Ø®Ø° Ø±Ø§Ø­Ø©", "ğŸ’ª Ø«Ù‚ Ø¨Ù†ÙØ³Ùƒ", "ğŸ“ Ø­Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©"];
      let t = 0;

      const update = () => {
        const now = new Date();
        const upd = (id, d, msg, s, e, bar) => {
          const el = document.getElementById(id), pb = document.getElementById(bar);
          if (d < 0) { el.textContent = msg; pb.style.width = "100%"; return; }
          const days = Math.floor(d / 86400000);
          el.textContent = `${days} ÙŠÙˆÙ…`;
          const pr = Math.min(Math.max((now - s) / (e - s) * 100, 0), 100);
          pb.style.width = pr + "%";
        };
        upd("midtermM", midterm - now, "ğŸ¯ Ø¨Ø¯Ø£Øª!", semesterStart, midterm, "midtermProgressM");
        upd("finalsM", finals - now, "ğŸ Ø¨Ø¯Ø£Øª!", midterm, finals, "finalsProgressM");
      };
      setInterval(update, 60000); update();

      const goal = document.getElementById("goalM"), goalText = document.getElementById("goalTextM");
      goal.value = localStorage.getItem("goalM") || "";
      goalText.textContent = goal.value ? `ğŸ¯ Ù‡Ø¯ÙÙƒ: ${goal.value}` : "âœï¸ Ø§ÙƒØªØ¨ Ù‡Ø¯ÙÙƒ!";
      goal.addEventListener("change", () => { localStorage.setItem("goalM", goal.value); goalText.textContent = `ğŸ¯ Ù‡Ø¯ÙÙƒ: ${goal.value}`; });

      const prog = document.getElementById("progressM"), progT = document.getElementById("progressTextM");
      prog.value = localStorage.getItem("progM") || 0;
      progT.textContent = `${prog.value}%`;
      prog.addEventListener("input", () => { localStorage.setItem("progM", prog.value); progT.textContent = `${prog.value}%`; });

      const pts = document.getElementById("pointsM");
      let p = parseInt(localStorage.getItem("ptsM") || "0");
      const today = new Date().toDateString();
      if (localStorage.getItem("lastM") !== today) {
        p++; localStorage.setItem("ptsM", p); localStorage.setItem("lastM", today);
      }
      pts.textContent = `â­ Ø²ÙŠØ§Ø±Ø§ØªÙƒ: ${p}`;

      const tip = document.getElementById("tipM");
      setInterval(() => { t = (t + 1) % tips.length; tip.textContent = tips[t]; }, 6000);
    }
  </script>
</body>
</html>
